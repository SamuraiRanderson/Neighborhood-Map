var Model=[{name:"Jimmy's Food Store",address_1:"4901 Bryan St",address_2:"Dallas, TX 75206",phone:"(214) 823-6180",lat:32.804476,lng:-96.773658,url:"https://www.jimmysfoodstore.com",pic:[0],locationId:122958},{name:"Dolly Python",address_1:"1916 N Haskell Ave",address_2:"Dallas, TX 75204",phone:"(214) 887-3434",lat:32.802272,lng:-96.785943,url:"http://www.dollypythonvintage.com",pic:[1],locationId:567284},{name:"The Samurai Collection",address_1:"2501 N Harwood St",address_2:"Dallas, TX 75201",phone:"(214) 965-1032",lat:32.791917,lng:-96.806217,url:"http://www.samuraicollection.org",pic:[0],locationId:91523867},{name:"Pecan Lodge",address_1:"2702 Main St",address_2:"Dallas, TX 75226",phone:"(214) 748-8900",lat:32.783925,lng:-96.78382,url:"http://www.pecanlodge.com",pic:[1],locationId:289297740},{name:"Smoke",address_1:"901 Fort Worth Ave",address_2:"Dallas, TX 75208",phone:"(214) 393-4141",lat:32.769605,lng:-96.837312,url:"http://smokerestaurant.com",pic:[4],locationId:152607},{name:"Dallas Museum of Art",address_1:"1717 N Harwood St",address_2:"Dallas, TX 75201",phone:"(214) 922-1200",lat:32.787814,lng:-96.800793,url:"https://www.dma.org",pic:[5],locationId:81723},{name:"Luscher's Red Hots",address_1:"2653 Commerce St",address_2:"Dallas, TX 75226",phone:"(214) 434-1006",lat:32.783485,lng:-96.784181,url:"http://www.luschers.com",pic:[6],locationId:627073515},{name:"Oddfellows",address_1:"316 W 7th St",address_2:"Dallas, TX 75208",phone:"(214) 944-5958",lat:32.748872,lng:-96.826812,url:"http://oddfellowsdallas.com",pic:[7],locationId:526179323},{name:"We are 1976",address_1:"313 N Bishop Ave",address_2:"Dallas, TX 75208",phone:"(214) 821-1976",lat:32.748334,lng:-96.829321,url:"http://www.weare1976.com",pic:[8],locationId:684487},{name:"The Cedars Social",address_1:"1326 S Lamar",address_2:"Dallas, TX 75215",phone:"(214) 928-7700",lat:32.769119,lng:-96.795821,url:"http://www.thecedarssocial.com",pic:[9],locationId:236668314}],LocInfo=function(e){this.name=ko.observable(e.name),this.address_1=ko.observable(e.address_1),this.address_2=ko.observable(e.address_2),this.phone=ko.observable(e.phone),this.lat=ko.observable(e.lat),this.lng=ko.observable(e.lng),this.url=ko.observable(e.url),this.pic=ko.observable(e.pic),this.locationId=ko.observable(e.locationId),this.marker=ko.observableArray(e.marker)},ViewModel=function(){function e(){for(var e="https://api.instagram.com/v1/locations/",a="/media/recent?access_token=1962684669.6f4a010.676642d0021149d7b7d58a8cec924c0d",o=[],s=0;s<Model.length;s++)o.push(e+Model[s].locationId+a);var l=setTimeout(function(){$images.text("Instagram information is not available at this time... Please try again later.")},3e3);return $.each(o,function(e,a){console.log(a),$.ajax(a,{type:"Get",dataType:"jsonp",cache:!1,jasonp:"callback",success:function(a){t.push("<img src="+a.data[e].images.low_resolution.url+" width=150px height=150px>"),clearTimeout(l)}})}),!1}function a(e){r.setContent("<h2>"+e.title+"</h2>"+e.address_1+"<br>"+e.address_2+"<br>"+e.phone+"</br><a href="+e.url+">"+e.url+"</a><br>"+t[e.pics]+"<br>"),r.open(map,e),console.log(t),e.setAnimation(null!==e.getAnimation()?null:google.maps.Animation.BOUNCE),map.panTo(e.position)}function o(e){setTimeout(function(){e.setAnimation(null)},3500)}var s=this;s.venueList=ko.observableArray([]),Model.currentMarker=ko.observable();var t=[];$(e);for(var l,n=0;n<Model.length;n++){l=new google.maps.Marker({position:new google.maps.LatLng(Model[n].lat,Model[n].lng),map:map,title:Model[n].name,address_1:Model[n].address_1,address_2:Model[n].address_2,phone:Model[n].phone,url:Model[n].url,pics:Model[n].pic,localPics:t,locationId:"https://api.instagram.com/v1/locations/"+Model[n].locationId+"/media/recent?access_token=1962684669.6f4a010.676642d0021149d7b7d58a8cec924c0d",animation:google.maps.Animation.DROP}),s.venueList.push(l);var r=new google.maps.InfoWindow;console.table(t),s.filter=function(){var e=$("#filter").val();e=e.toLowerCase().replace(/\b[a-z]/g,function(e){return e.toUpperCase()}),$(".locList > li").each(function(){$(this).text().search(e)>-1?$(this).show():$(this).hide()});for(var a=0;a<s.venueList().length;a++)s.venueList()[a].setMap(s.venueList()[a].title.search(e)>-1?map:null)},$("#uiList .locList").append("<li><a>"+Model[n].name+"<br>"+Model[n].address_1+"<br>"+Model[n].address_2+"<br>"+Model[n].phone+"<br><hr></a></li>"),$("#uiList .locList li a").last().bind("click",function(e){return function(){a(e),o(e)}}(l)),google.maps.event.addListener(l,"click",function(){a(this),o(this)})}},map=new google.maps.Map(document.getElementById("map-canvas"),{center:new google.maps.LatLng(32.789356,-96.801788),zoom:13});$(document).ready(function(){ko.applyBindings(new ViewModel)});